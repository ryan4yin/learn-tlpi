# 文件 IO: 通用的 IO 模型

## 空洞文件

空洞文件是一种特殊的文件，它的文件大小大于实际写入的数据大小。空洞文件的特点是文件中间有一段空白区
域，这段空白区域不占用磁盘空间，但是文件大小会增大。

通过 `lseek` 函数可以将文件的当前偏移量设置到文件末尾之外，这样就可以在文件中间创建空洞。

空洞文件的常见应用场景：

- coredump 文件：当程序崩溃时，操作系统会将程序的内存数据写入到 coredump 文件中。通过空洞文件，可以
  只将程序的实际用到的内存数据写入到 coredump 文件中，使该文件的大小远小于实际内存空间。
- 多线程下载：多线程下载文件时，可以通过空洞文件来实现文件的分段下载，每个线程下载数据的一部分并写入
  到文件的对应位置。
